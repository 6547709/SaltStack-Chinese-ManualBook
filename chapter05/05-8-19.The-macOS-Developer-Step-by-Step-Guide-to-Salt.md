# THE MACOS (MAVERICK) DEVELOPER STEP BY STEP GUIDE TO SALT INSTALLATION
本文档提供了安装Salt集群的分步指南，该集群由一个master服务器和一个在macOS上托管的本地VM上运行的minion组成。

> 注意：本指南面向希望在虚拟机中运行Salt的开发人员。 官方（Linux）教程可以在[这里](https://github.com/watermelonbig/SaltStack-Chinese-ManualBook/blob/master/chapter05/05-8-18.Salt-in-10-Minutes.md)找到。

## THE 5 CENT SALT INTRO
既然你在阅读这个资料，你可能已经听说过Salt，所以你已经知道Salt可以让你轻松地在成群的服务器上配置和运行命令。以下是Salt集群的简要概述：
- Salt通过让“master”服务器向一个或多个“minion”服务器发送命令来工作。Master服务器是“命令中心”。它将成为存储配置文件的地方，也就是说：“哪个服务器是数据库，哪个是Web服务器，以及它们应该安装哪些库和软件”。Minions接收Master的命令。Minions是实际为您的企业执行工作任务的服务器。
- Salt有两种类型的配置文件：
  1. “salt communication channels”或“meta”或“config”配置文件（非官方名称）：一个用于master（通常是/etc/salt/master，在master服务器上），一个用于minions（默认）是/etc/salt/minion或/etc/salt/minion.conf，在minion服务器上）。这些文件用于确定诸如Salt Master IP、端口、Salt文件夹位置等内容。如果这些文件配置不正确，您的minions可能无法接收来自master主机的管理任务，或者master主机将不知道哪个软件是应该给予minion安装。
  2. “业务”或“服务”配置文件（再一次，这不是正式名称）：这些是以“.sls”扩展名结尾的配置文件，用于描述哪个软件应在哪个服务器上运行，以及特定的配置属性对于正在安装的软件。默认情况下，应在/srv/salt文件夹中创建这些文件，但可以使用.../etc/salt/master配置文件更改它们的位置！

> 注意：本教程中还包含了第三个重要的配置文件，不要与前两个配置文件混淆：这里指的是虚拟机配置的配置文件。这本身并不特别与Salt有关，但它也包含一些Salt配置。有关详细信息，请参阅步骤3.另请注意，所有配置文件都是YAML文件。所以缩进很重要。

> 注意：Salt也可以使用“masterless”配置，其中minion是自治的（在这种情况下salt可以看作是本地配置工具），或者是“multi-master”配置。有关详细信息，请参阅相关文档。

### 在深入之前，再了解下Salt的架构
#### SALT MASTER
“Salt master”服务器将直接运行在Mac OS机器上。命令将从terminal终端应用运行，因此需要在Mac上安装Salt。这对于使用配置文件进行操作会更方便。

#### SALT MINION
我们将只有一个“Salt Minion”服务器。它将使用VirtualBox在Mac上运行的虚拟机上运行。它将运行Ubuntu发行版。

## STEP 1 - CONFIGURING THE SALT MASTER ON YOUR MAC
Official Documentation

Because Salt has a lot of dependencies that are not built in macOS, we will use Homebrew to install Salt. Homebrew is a package manager for Mac, it's great, use it (for this tutorial at least!). Some people spend a lot of time installing libs by hand to better understand dependencies, and then realize how useful a package manager is once they're configuring a brand new machine and have to do it all over again. It also lets you uninstall things easily.

https://docs.saltstack.com/en/latest/topics/tutorials/walkthrough_macosx.html
