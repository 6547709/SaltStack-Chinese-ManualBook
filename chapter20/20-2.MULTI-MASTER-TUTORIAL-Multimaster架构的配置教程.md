# MULTI MASTER TUTORIAL - Multimaster架构的配置教程

从Salt 0.16.0开始，已经提供了将minions连接到多个masters的功能。 multi-master系统允许Salt masters节点的冗余部署，并提供了通过多个通信节点管理到minions的便利。 当使用一个多主的系统时，所有的master都在运行，并且都可用于向minions发送命令。

**注意：**

如果你希望按照故障转移的方式来使用多个masters服务器，则还可以使用MultiMaster-PKI功能设置，该功能通过使用了不同的拓扑，实现了一种给合使用PKI和failover的Multi-master部署架构，详见：[MultiMaster-PKI with Failover Tutorial](https://github.com/watermelonbig/SaltStack-Chinese-ManualBook/blob/master/chapter20/20-3.Multi-Master-PKI-Tutorial-With-Failover-给合使用PKI和failover的Multimaster架构.md)

在0.16.0中，masters服务器之间不共享任何信息，需要在两个主服务器上分别接受密钥，并且需要手动共享共享文件或使用git fileserver后端等工具来确保file_roots保持一致。

从Salt 2016.11.0开始，引入了[Pluggable Minion Data Cache](https://docs.saltstack.com/en/latest/topics/cache/index.html)。 minion数据缓存包含Salt Master数据，minion grain和缓存在Salt Master上的minion pillar信息。 默认情况下，Salt使用localfs缓存模块，但也支持使用其他外部数据存储。

使用可插拔的minion缓存模块，允许存储在Salt Master上的关于Salt Minions的数据被复制到Minion所连接的其他Salt Masters上。 有关更多信息和配置示例，请参阅相关文档。
